<h3>You have picked <%= @post.title %> and date you would like to pick your item</h3>
<%= form_for @order , url: post_orders_path do |form| %>

<!-- <input type="hidden" name="collection_date" id="collection_date" />
<input type="hidden" name="collection_time" id="collection_time" /> -->
<%= form.text_field :collection_date %>
<%= form.text_field :collection_time %>



<div style="overflow:hidden;">
	<div class="form-group">
		<div class="row">
			<div class="col-md-8">
				<div id="datetimepicker12"></div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		var startHour = <%= @post.pickup_start.strftime('%H') %>
		var startMinute = <%= @post.pickup_start.strftime('%M') %>
		var endHour = <%= @post.pickup_end.strftime('%H') %>
		var endMinute = <%= @post.pickup_end.strftime('%M') %>
		var deadlineDate = moment("<%= @post.deadline_for_collection.strftime('%d/%m/%Y') %>", 'DD/MM/YYYY').hour(endHour).minute(endMinute)
		
		var date = new Date();
		var today = new Date(date.getFullYear(), date.getMonth(), date.getDate());
		$(function () {
			function range(start, stop, step){
			  var a=[start], b=start;
			  while(b<stop){b+=step;a.push(b)}
			  return a;
			};
			$('#datetimepicker12').datetimepicker({
				inline: true,
				sideBySide: true,
				format: "DD/MM/YYYY HH:mm",
				stepping: 30,
        minDate: moment({ h: startHour }),
        maxDate: deadlineDate.hour(endHour),
        enabledHours: range(startHour, endHour, 1)
			});

			// $('#datetimepicker12').datetimepicker({
			// 	format: "mm/dd/yyyy",
	  //     startDate: new Date().getDate()
			// 	});


		});
	</script>
</div>
<%= form.submit%>
<% end%>

